var AttatchmentRevisions={};jQuery(document).ready(function(e){var t=null;e(document).on("click",'[data-action="media-replacer-replace"]',function(){if(e(this).parents(".media-modal").length)return void(location.href=e(this).data("edit-link"));var a=e(this).data("mime"),i=a.split("/");t||(t=wp.media({title:"Select replacement file",button:{text:"Replace"},multiple:!1,library:{type:i[0],subtype:i[1]}}),t.on("select",function(){var a=t.state().get("selection").first().toJSON().id;"undefined"!=typeof a?e('[name="media-replacer-replace-with"]').val(a).closest("form").submit():alert("You did not select a file. Media will not be replaced.")}));e(t.open().el);e(".media-router a:first-of-type").trigger("click"),e(document).on("click",".media-router > a",function(){e(".attachment-preview:not(.type-"+i[0]+"), .attachment-preview:not(.subtype-"+i[1]+")").parent("li").remove()})}),e(document).on("click",'[data-action="media-replacer-revisions"]',function(){if(e(this).parents(".media-modal").length)return location.href=e(this).data("edit-link"),!1}),e(document).on("click",".media-replace-revisions [data-restore]",function(){if(e(this).hasClass("selected"))return e('[name="media-replace-restore"]').val(""),void e(this).removeClass("selected");e(".media-replace-revisions li.selected").removeClass("selected");var t=e(this).data("restore");e('[name="media-replace-restore"]').val(t),e(this).addClass("selected")})});